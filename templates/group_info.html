{% extends 'layout/base.html' %}
{% load crispy_forms_tags %}

{% block title %}
    <title>Панель Управления</title>
{% endblock %}
{% block custom_css %}
    <style>
        tr.border-danger:hover td {
            background-color: rgba(255, 0, 0, 0.1) !important;
        }

        .group-intro > span.weekdays span:not(:last-child)::after {
            content: ',';
        }
    </style>
{% endblock %}
{% block content %}
    {% include 'layout/navbar.html' %}

    <div class="container">
        <div class="mt-5 mb-2 d-flex align-items-center justify-content-between">
            <h4 class="group-intro">Группа - {{ object }}</h4>
        </div>
        <hr class="table-group-divider"/>
        <div class="bg-light rounded py-2 px-2 border">
            <div class="">
                <h6 class="text-dark ms-1 fs-6 mb-2">Тема</h6>
            </div>
            <form action="{% url 'courses:group_topic_update' pk=object.id %}" method="post">
                {% csrf_token %}
                <div class="d-flex flex-column flex-md-row gap-2">
                    <input class="form-control" name="topic" placeholder="Введите название темы"
                           value="{{ object.last_topic }}">
                    <button type="submit" class="btn btn-success">Сохранить</button>
                </div>
            </form>
            {% if messages %}
                {% for message in messages %}
                    <p class="alert py-1 mt-2 mb-0  alert-{{ message.tags }}">{{ message }}</p>
                {% endfor %}
            {% endif %}
        </div>
        <hr class="table-group-divider"/>
        <div class="row">
            <div class="col-12 attendance-table-wrapper">
                <div class="overflow-x-scroll pb-2">
                   {% include 'components/attendance_table.html' %}
                </div>
            </div>
        </div>


    </div>
{% endblock %}
